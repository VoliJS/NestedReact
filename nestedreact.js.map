{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 89d4ffc5890b93821d24","webpack:///./src/main.js","webpack:///external {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\",\"root\":\"React\"}","webpack:///external {\"commonjs\":\"react-dom\",\"commonjs2\":\"react-dom\",\"amd\":\"react-dom\",\"root\":\"ReactDOM\"}","webpack:///external {\"commonjs\":\"nestedtypes\",\"commonjs2\":\"nestedtypes\",\"amd\":\"nestedtypes\",\"root\":\"Nested\"}","webpack:///./src/createClass.js","webpack:///./src/define.js","webpack:///./src/purerender-mixin.js","webpack:///./src/propTypes.js","webpack:///./src/component-view.js","webpack:///./src/view-element.js","webpack:///./src/nested-link.js","webpack:///./~/valuelink/valuelink.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,yCAAwC,sBAAsB,EAAE;AAChE;;AAEA;AACA,YAAW,kBAAkB,qCAAqC,EAAE,EAAE;AACtE,YAAW,kBAAkB,qBAAqB,EAAE,EAAE;AACtD,YAAW,yBAAyB,6BAA6B,EAAE;AACnE,EAAC;;AAED;;;;;;;ACvCA,gD;;;;;;ACAA,gD;;;;;;ACAA,gD;;;;;;ACAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,oBAAmB,mBAAmB;AACtC;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,+EAA8E;;AAE9E;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,2EAA0E,yBAAyB;AACnG;AACA,MAAK;AACL,E;;;;;;ACpEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,iDAAgD;AAChD,MAAK;;AAEL;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,wBAAuB,qBAAqB;AAC5C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,0EAAyE;AACzE;AACA;AACA;;AAEA;AACA;AACA,yFAAwF;AACxF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAwD,wBAAwB;AAChF;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,qCAAoC;;AAEpC;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,oEAAmE;AACnE;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wGAAuG;AACvG;AACA;;AAEA,mC;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,sCAAqC;AACrC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,sCAAqC;AACrC;;AAEA,oBAAmB,qBAAqB;AACxC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,yCAAwC,QAAQ;AAChD;AACA;;AAEA;AACA,4CAA2C;AAC3C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,E;;;;;;ACpPA;AACA,8BAA6B;AAC7B,8BAA6B;;AAE7B;AACA;;AAEA;AACA;AACA;;AAEA,6DAA4D;AAC5D;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,UAAS;;AAET;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,G;;;;;;AC9BA;AACA;;AAEA;AACA,uBAAsB;AACtB;AACA;;AAEA;AACA;AACA;;AAEA;AACA,4CAA2C;AAC3C;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iC;;;;;;AC3DA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,4DAA2D;AAC3D;;AAEA;AACA;AACA,wBAAuB;AACvB;;AAEA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;;AAEA;AACA;AACA,UAAS;;AAET;AACA,2DAA0D,8BAA8B;AACxF;AACA;;AAEA;AACA,UAAS;;AAET;AACA;AACA;;AAEA;AACA;AACA,cAAa;AACb,UAAS;;AAET;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;;;;;;;ACpFA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,MAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA,UAAS;AACT,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,G;;;;;;AC/DD;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA,EAAC;;AAED;;AAEA;AACA;AACA,sEAAqE;AACrE;AACA,EAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,oBAAmB,sBAAsB;AACzC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAmB,yBAAyB;AAC5C;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;;AAEA;AACA;AACA;;AAEA;AACA;AACA,0DAAyD,wBAAwB,EAAE;AACnF;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAmB,wBAAwB;;AAE3C;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAS;;AAET;AACA;AACA;AACA,MAAK;;AAEL;AACA,0BAAyB,gCAAgC;AACzD;AACA,EAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;;AAET;AACA,MAAK;;AAEL,4CAA2C,iBAAiB;AAC5D;AACA;AACA;;;;;;;AC5KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2FAA0F;AAC1F;AACA;AACA;AACA;AACA;AACA,sFAAqF;AACrF,wBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B,mBAAmB,EAAE;AAC/C;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,8BAA6B,mCAAmC;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C;AAC7C;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA4C;AAC5C;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAwC;AACxC;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+GAA8G,6BAA6B,EAAE;AAC7I;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B,cAAc,EAAE;AAC7C,gCAA+B,WAAW,EAAE;AAC5C,+BAA8B,cAAc;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,wBAAuB,kBAAkB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,sC","file":"./nestedreact.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"react-dom\"), require(\"nestedtypes\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"react-dom\", \"nestedtypes\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"React\"] = factory(require(\"react\"), require(\"react-dom\"), require(\"nestedtypes\"));\n\telse\n\t\troot[\"React\"] = factory(root[\"React\"], root[\"ReactDOM\"], root[\"Nested\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 89d4ffc5890b93821d24\n **/","var React    = require( 'react' ),\r\n    ReactDOM = require( 'react-dom' ),\r\n    Nested   = require( 'nestedtypes' ),\r\n    $        = Nested.$;\r\n\r\n// extend React namespace\r\nvar NestedReact = module.exports = Object.create( React );\r\n\r\n// listenToProps, listenToState, model, attributes, Model\r\nNestedReact.createClass = require( './createClass' );\r\n\r\nNestedReact.define = Nested.define;\r\n\r\nvar ComponentView = require( './component-view' );\r\n\r\n// export hook to override base View class used...\r\nNestedReact.useView = function( View ){\r\n    Nested._BaseView = ComponentView.use( View );\r\n};\r\n\r\nNestedReact.useView( Nested.View );\r\n\r\n// React component for attaching views\r\nNestedReact.subview = require( './view-element' );\r\n\r\nvar propTypes  = require( './propTypes' );\r\nNestedReact.Node = propTypes.Node.value( null );\r\nNestedReact.Element = propTypes.Element.value( null );\r\n\r\n// Extend react components to have backbone-style jquery accessors\r\nvar Component     = React.createClass( { render : function(){} } ),\r\n    BaseComponent = Object.getPrototypeOf( Component.prototype );\r\n\r\nObject.defineProperties( BaseComponent, {\r\n    el  : { get : function(){ return ReactDOM.findDOMNode( this ); } },\r\n    $el : { get : function(){ return $( this.el ); } },\r\n    $   : { value : function( sel ){ return this.$el.find( sel ); } }\r\n} );\r\n\r\nNestedReact.Link = require( './nested-link' );\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main.js\n ** module id = 0\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\",\"root\":\"React\"}\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"commonjs\":\"react-dom\",\"commonjs2\":\"react-dom\",\"amd\":\"react-dom\",\"root\":\"ReactDOM\"}\n ** module id = 2\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"commonjs\":\"nestedtypes\",\"commonjs2\":\"nestedtypes\",\"amd\":\"nestedtypes\",\"root\":\"Nested\"}\n ** module id = 3\n ** module chunks = 0\n **/","var React      = require( 'react' ),\r\n    Nested     = require( 'nestedtypes' ),\r\n    processSpec = require( './define'),\r\n    tools = Nested.tools;\r\n\r\nvar reactMixinRules = {\r\n    componentWillMount : 'reverse',\r\n    componentDidMount : 'reverse',\r\n    componentWillReceiveProps : 'reverse',\r\n    shouldComponentUpdate : 'some',\r\n    componentWillUpdate : 'reverse',\r\n    componentDidUpdate : 'reverse',\r\n    componentWillUnmount : 'sequence',\r\n};\r\n\r\nfunction createClass( a_spec ){\r\n    var spec = processSpec( a_spec ),\r\n        mixins = spec.mixins || [];\r\n\r\n    delete spec.mixins;\r\n\r\n    // We have the reversed sequence for the majority of the lifecycle hooks.\r\n    // So, mixins lifecycle methods works first. It's important.\r\n    // To make it consistent with class mixins implementation, we override React mixins.\r\n    for( var i = 0; i < mixins.length; i++ ){\r\n        Nested.mergeProps( spec, mixins[ i ], reactMixinRules );\r\n    }\r\n\r\n    var Component = React.createClass( spec );\r\n\r\n    // attach lazily evaluated backbone View class\r\n    defineBackboneProxy( Component );\r\n\r\n    return Component;\r\n}\r\n\r\nmodule.exports = createClass;\r\n\r\nNested.Mixable.mixTo( React.Component );\r\n\r\nReact.Component.define = function( protoProps, staticProps ){\r\n    var BaseClass = tools.getBaseClass( this ),\r\n        staticsDefinition = tools.getChangedStatics( this, 'state', 'props', 'autobind', 'context', 'childContext', 'listenToProps', 'pureRender' ),\r\n        combinedDefinition = tools.assign( staticsDefinition, protoProps || {} );\r\n\r\n    definition = processSpec( combinedDefinition, this.prototype );\r\n\r\n    defineBackboneProxy( this );\r\n\r\n    if( definition.getDefaultProps ) this.defaultProps = definition.getDefaultProps();\r\n    if( definition.propTypes ) this.propTypes = definition.propTypes;\r\n    if( definition.contextTypes ) this.contextTypes = definition.contextTypes;\r\n    if( definition.childContextTypes ) this.childsContextTypes = definition.childsContextTypes;\r\n\r\n    var protoDefinition = tools.omit( definition, 'getDefaultProps', 'propTypes', 'contextTypes', 'childContextTypes' );\r\n    Nested.Mixable.define.call( this, protoDefinition, staticProps );\r\n\r\n    return this;\r\n}\r\n\r\nReact.Component.mixinRules( reactMixinRules );\r\n\r\nfunction defineBackboneProxy( Component ){\r\n    Object.defineProperty( Component, 'View', {\r\n        get : function(){\r\n            return this._View || ( this._View = Nested._BaseView.extend( { reactClass : Component } ) );\r\n        }\r\n    } );\r\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/createClass.js\n ** module id = 4\n ** module chunks = 0\n **/","var Nested = require( 'nestedtypes' ),\r\n    pureRender = require( './purerender-mixin' ),\r\n    propTypes  = require( './propTypes' ),\r\n    tools = Nested.tools;\r\n\r\nmodule.exports = function processSpec( spec, a_baseProto ){\r\n    var baseProto = a_baseProto || {};\r\n    spec.mixins || ( spec.mixins = [] );\r\n\r\n    processContext( spec, baseProto );\r\n    processAutobind( spec, baseProto );\r\n    processState( spec, baseProto );\r\n    processProps( spec, baseProto );\r\n    processListenToProps( spec, baseProto );\r\n\r\n    spec.mixins.push( EventsMixin );\r\n\r\n    return spec;\r\n}\r\n\r\n/***\r\n * Throttled asynchronous version of forceUpdate.\r\n */\r\nvar _queue = null;\r\n\r\nfunction asyncUpdate(){\r\n    // For some weird reason async update doesn't work. Input's state is being messed up.\r\n    // Just call forceUpdate for now.\r\n    this.forceUpdate();\r\n}\r\n\r\nvar EventsMixin = Object.assign( {\r\n    componentWillUnmount : function(){\r\n        this.off();\r\n        this.stopListening();\r\n        \r\n        // Prevent asynchronous rendering if queued.\r\n        this._queuedForUpdate = false;\r\n\r\n        // TODO: Enable it in future.\r\n        //if( this.state ) this.state.dispose(); // Not sure if it will work ok with current code base.\r\n    },\r\n\r\n    asyncUpdate : asyncUpdate\r\n}, Nested.Events );\r\n\r\n/***\r\n * Autobinding\r\n */\r\nfunction processAutobind( spec, baseProto ){\r\n    if( spec.autobind ){\r\n        spec._autobind = spec.autobind.split( /\\s+/ ).concat( baseProto._autobind || [] );\r\n        spec.mixins.push( AutoBindMixin );\r\n        delete spec.autobind;\r\n    }\r\n}\r\n\r\nvar AutoBindMixin = {\r\n    componentWillMount : function(){\r\n        var autobind = this._autobind;\r\n        \r\n        for( var i = 0; i < autobind.length; i++ ){\r\n            var name = autobind[ i ];\r\n            this[ name ] = this[ name ].bind( this );\r\n        }\r\n    }\r\n}\r\n\r\nfunction processContext( spec, baseProto ){\r\n    // process context specs...\r\n    var context = getTypeSpecs( spec, 'context' );\r\n    if( context ){\r\n        spec._context = tools.defaults( context, baseProto._context || {} );\r\n        spec.contextTypes = propTypes.parseProps( context ).propTypes;\r\n        delete spec.context;\r\n    }\r\n\r\n    var childContext = getTypeSpecs( spec, 'childContext' );\r\n    if( childContext ){\r\n        spec._childContext = tools.defaults( childContext, baseProto._childContext || {} );\r\n        spec.childContextTypes = propTypes.parseProps( childContext ).propTypes;\r\n        delete spec.childContext;\r\n    }\r\n}\r\n\r\n/*****************\r\n * State\r\n */\r\nfunction processState( spec, baseProto ){\r\n    // process state spec...\r\n    var attributes = getTypeSpecs( spec, 'state' ) || getTypeSpecs( spec, 'attributes' )\r\n    if( attributes || spec.Model || baseProto.Model ){\r\n        var BaseModel = baseProto.Model || spec.Model || Nested.Model;\r\n        spec.Model    = attributes ? BaseModel.extend( { defaults : attributes } ) : BaseModel;\r\n        spec.mixins.push( ModelStateMixin );\r\n        delete spec.state;\r\n        delete spec.attributes;\r\n    }\r\n}\r\n\r\nvar ModelStateMixin = {\r\n    model         : null,\r\n\r\n    _onChildrenChange : function(){},\r\n\r\n    componentWillMount : function(){\r\n        var state = this.state = this.model = this.props._keepState || new this.Model();\r\n        state._owner = this;\r\n        state._ownerKey = 'state';\r\n    },\r\n\r\n    componentDidMount : function(){\r\n        // Start UI updates on state changes.\r\n        this._onChildrenChange = this.asyncUpdate;\r\n    },\r\n\r\n    // reference global store to fix model's store locator\r\n    getStore : function(){\r\n        // Attempt to get the store from the context first. Then - fallback to the state's default store.\r\n        // TBD: Need to figure out a good way of managing local stores.\r\n        var context = this.context;\r\n        return ( context && context.store ) || this.model._defaultStore;\r\n    },\r\n\r\n    componentWillUnmount : function(){\r\n        // Release the state model.\r\n        this.model._ownerKey = this.model._owner = void 0;\r\n    }\r\n};\r\n\r\nfunction processProps( spec, baseProto ){\r\n    // process props spec...\r\n    var props = getTypeSpecs( spec, 'props' );\r\n\r\n    if( props ){\r\n        spec._props = tools.defaults( props, baseProto._props || {} );\r\n        var parsedProps = propTypes.parseProps( props );\r\n\r\n        spec.propTypes = parsedProps.propTypes;\r\n\r\n        if( parsedProps.defaults ){\r\n            spec.getDefaultProps = function(){\r\n                return parsedProps.defaults;\r\n            }\r\n        }\r\n\r\n        delete spec.props;\r\n    }\r\n\r\n    // compile pure render mixin\r\n    if( spec.propTypes && ( spec.pureRender || baseProto.pureRender ) ){\r\n        spec.mixins.push( pureRender( spec.propTypes ) );\r\n    }\r\n}\r\n\r\nfunction processListenToProps( spec, baseProto ){\r\n    // process listenToProps spec\r\n    var listenToProps = spec.listenToProps;\r\n    if( listenToProps ){\r\n        if( typeof listenToProps === 'string' ){\r\n            spec._listenToPropsArray = listenToProps.split( /\\s+/ ).concat( baseProto._listenToPropsArray || [] );\r\n            spec.mixins.unshift( ListenToPropsArrayMixin );\r\n        }\r\n        else{\r\n            spec._listenToPropsHash = tools.defaults( listenToProps, baseProto._listenToPropsHash || {} );\r\n            spec.mixins.unshift( ListenToPropsMixin );\r\n        }\r\n\r\n        delete spec.listenToProps; \r\n    }\r\n}\r\n\r\nvar ListenToPropsMixin = {\r\n    componentDidMount  : regHashPropsListeners,\r\n    componentDidUpdate : regHashPropsListeners\r\n};\r\n\r\nfunction regHashPropsListeners( a_prevProps ){\r\n    var prevProps = a_prevProps || {},\r\n        updateOn  = this._listenToPropsHash;\r\n\r\n    for( var prop in updateOn ){\r\n        registerPropsListener( this, prevProps, prop, updateOn[ prop ] );\r\n    }\r\n}\r\n\r\nvar ListenToPropsArrayMixin = {\r\n    componentDidMount  : regArrayPropListeners,\r\n    componentDidUpdate : regArrayPropListeners\r\n};\r\n\r\nfunction regArrayPropListeners( a_prevProps ){\r\n    var prevProps = a_prevProps || {},\r\n        updateOn  = this._listenToPropsArray;\r\n\r\n    for( var i = 0; i < updateOn.length; i++ ){\r\n        registerPropsListener( this, prevProps, updateOn[ i ] )\r\n    }\r\n}\r\n\r\nfunction registerPropsListener( component, prevProps, name, events ){\r\n    var prevEmitter = prevProps[ name ],\r\n        emitter     = component.props[ name ];\r\n\r\n    if( prevEmitter !== emitter ){\r\n        prevEmitter && component.stopListening( prevEmitter );\r\n\r\n        if( emitter ){\r\n            if( typeof events === 'object' ){\r\n                component.listenTo( emitter, events );\r\n            }\r\n            else{\r\n                component.listenTo( emitter, events || emitter._changeEventName, asyncUpdate );\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction getTypeSpecs( spec, name ){\r\n    var attributes = null;\r\n\r\n    // Scan through local mixin, and gather specs. Refactor it later, it's not good. At all.\r\n    for( var i = spec.mixins.length - 1; i >= 0; i-- ){\r\n        var mixin      = spec.mixins[ i ],\r\n            mixinAttrs = mixin[ name ];\r\n\r\n        if( mixinAttrs ){\r\n            attributes || ( attributes = {} );\r\n            Object.assign( attributes, mixinAttrs );\r\n        }\r\n    }\r\n\r\n    // Merge it with local data.\r\n    var specAttrs = spec[ name ];\r\n    if( specAttrs ){\r\n        if( attributes ){\r\n            Object.assign( attributes, specAttrs );\r\n        }\r\n        else{\r\n            attributes = specAttrs;\r\n        }\r\n    }\r\n\r\n    return attributes;\r\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/define.js\n ** module id = 5\n ** module chunks = 0\n **/","module.exports = function( propTypes ){\r\n    var ctor      = [ 'var v;this._s=s&&s._changeToken' ],\r\n        isChanged = [ 'var v;return(s&&s._changeToken!==t._s)' ];\r\n\r\n    for( var name in propTypes ){\r\n        var propExpr = '((v=p.' + name + ')&&v._changeToken)||v';\r\n\r\n        ctor.push( 'this.' + name + '=' + propExpr );\r\n        isChanged.push( 't.' + name + '!==(' + propExpr + ')' );\r\n    }\r\n\r\n    var ChangeTokens = new Function( 'p', 's', ctor.join( ';' ) ),\r\n        isChanged    = new Function( 't', 'p', 's', isChanged.join( '||' ) );\r\n\r\n    ChangeTokens.prototype = null;\r\n\r\n    return {\r\n        _changeTokens : null,\r\n\r\n        shouldComponentUpdate : function( nextProps ){\r\n            return isChanged( this._changeTokens, nextProps, this.state );\r\n        },\r\n\r\n        componentDidMount  : function(){\r\n            this._changeTokens = new ChangeTokens( this.props, this.state );\r\n        },\r\n        componentDidUpdate : function(){\r\n            this._changeTokens = new ChangeTokens( this.props, this.state );\r\n        }\r\n    }\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/purerender-mixin.js\n ** module id = 6\n ** module chunks = 0\n **/","var Nested = require( 'nestedtypes' ),\r\n    React  = require( 'react' );\r\n\r\nfunction parseProps( props ){\r\n    var propTypes = {},\r\n        defaults,\r\n        modelProto = Nested.Model.defaults( props ).prototype;\r\n\r\n    modelProto.forEachAttr( modelProto._attributes, function( spec, name ){\r\n        if( name !== 'id' ){\r\n            propTypes[ name ] = translateType( spec.type );\r\n\r\n            if( spec.value !== void 0 ){\r\n                defaults || ( defaults = {} );\r\n                defaults[ name ] = spec.value;\r\n            }\r\n        }\r\n    });\r\n\r\n    return {\r\n        propTypes : propTypes,\r\n        defaults : defaults\r\n    };\r\n}\r\n\r\nvar PropTypes = React.PropTypes;\r\n\r\nfunction Node(){}\r\nfunction Element(){}\r\n\r\nfunction translateType( Type ){\r\n    switch( Type ){\r\n        case Number :\r\n        case Integer :\r\n            return PropTypes.number;\r\n        case String :\r\n            return PropTypes.string;\r\n        case Boolean :\r\n            return PropTypes.bool;\r\n        case Array :\r\n            return PropTypes.array;\r\n        case Function :\r\n            return PropTypes.func;\r\n        case Object :\r\n            return PropTypes.object;\r\n        case Node :\r\n            return PropTypes.node;\r\n        case Element :\r\n            return PropTypes.element;\r\n        case void 0 :\r\n        case null :\r\n            return PropTypes.any;\r\n        default:\r\n            return PropTypes.instanceOf( Type );\r\n    }\r\n}\r\n\r\nexports.Node = Node;\r\nexports.Element = Element;\r\nexports.parseProps = parseProps;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/propTypes.js\n ** module id = 7\n ** module chunks = 0\n **/","var React    = require( 'react' ),\r\n    ReactDOM = require( 'react-dom' );\r\n\r\nfunction fastAssign( dest, source ){\r\n    for( var name in source ) {\r\n        dest[ name ] = source[ name ];\r\n    }\r\n\r\n    return dest;\r\n}\r\n\r\nmodule.exports.use = function( View ){\r\n    var dispose    = View.prototype.dispose || function(){},\r\n        setElement = View.prototype.setElement;\r\n\r\n    var ComponentView = View.extend( {\r\n        reactClass : null,\r\n        props      : {},\r\n        element    : null,\r\n\r\n        initialize : function( props ){\r\n            // memorise arguments to pass to React\r\n            this.options = props || {};\r\n        },\r\n\r\n        setElement : function(){\r\n            this.unmountComponent();\r\n            return setElement.apply( this, arguments );\r\n        },\r\n\r\n        // cached instance of react component...\r\n        component : null,\r\n        prevState : null,\r\n        \r\n        resize : function(){\r\n            Page.forceResize();\r\n        },\r\n\r\n        render : function(){\r\n            var options   = this.prevState ? fastAssign( { _keepState : this.prevState }, this.options ) : this.options,\r\n                element   = React.createElement( this.reactClass, options ),\r\n                component = ReactDOM.render( element, this.el );\r\n\r\n            this.component || this.mountComponent( component );\r\n        },\r\n\r\n        mountComponent : function( component ){\r\n            this.component = component;\r\n            this.prevState = null;\r\n\r\n            component.trigger && this.listenTo( component, 'all', function(){\r\n                this.trigger.apply( this, arguments );\r\n            } );\r\n        },\r\n\r\n        unmountComponent : function(){\r\n            var component = this.component;\r\n\r\n            if( component ){\r\n                this.prevState = component.model;\r\n\r\n                if( component.trigger ){\r\n                    this.stopListening( component );\r\n                }\r\n\r\n                ReactDOM.unmountComponentAtNode( this.el );\r\n                this.component = null;\r\n            }\r\n        },\r\n\r\n        dispose : function(){\r\n            this.unmountComponent();\r\n            return dispose.apply( this, arguments );\r\n        }\r\n    } );\r\n\r\n    Object.defineProperty( ComponentView.prototype, 'model', {\r\n        get : function(){\r\n            this.component || this.render();\r\n            return this.component && this.component.model;\r\n        }\r\n    } );\r\n\r\n    return ComponentView;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/component-view.js\n ** module id = 8\n ** module chunks = 0\n **/","var React        = require( 'react' ),\r\n    jsonNotEqual = require( 'nestedtypes' ).tools.notEqual;\r\n\r\nmodule.exports = React.createClass( {\r\n    displayName : 'BackboneView',\r\n\r\n    propTypes : {\r\n        View    : React.PropTypes.func.isRequired,\r\n        options : React.PropTypes.object\r\n    },\r\n\r\n    shouldComponentUpdate : function( next ){\r\n        var props = this.props;\r\n        return next.View !== props.View || jsonNotEqual( next.options, props.options );\r\n    },\r\n\r\n    hasUnsavedChanges : function(){\r\n        var view = this.view;\r\n\r\n        return view && (\r\n                typeof view.hasUnsavedChanges === 'function' ? view.hasUnsavedChanges() : view.hasUnsavedChanges\r\n            );\r\n    },\r\n\r\n    render : function(){\r\n        return React.DOM.div( {\r\n            ref       : 'subview',\r\n            className : this.props.className\r\n        } );\r\n    },\r\n\r\n    componentDidMount    : function(){\r\n        this._mountView();\r\n    },\r\n\r\n    componentDidUpdate   : function(){\r\n        this._dispose();\r\n        this._mountView();\r\n    },\r\n\r\n    componentWillUnmount : function(){\r\n        this._dispose();\r\n    },\r\n\r\n    _mountView : function(){\r\n        var el = this.refs.subview,\r\n            p  = this.props;\r\n\r\n        var view = this.view = p.options ? new p.View( p.options ) : new p.View();\r\n\r\n        el.appendChild( view.el );\r\n        view.render();\r\n    },\r\n\r\n    _dispose : function(){\r\n        var view = this.view;\r\n        if( view ){\r\n            view.stopListening();\r\n            if( view.dispose ) view.dispose();\r\n            this.refs.subview.innerHTML = \"\";\r\n            this.view                   = null;\r\n        }\r\n    }\r\n} );\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/view-element.js\n ** module id = 9\n ** module chunks = 0\n **/","var Nested = require( 'nestedtypes' ),\r\n    Link   = require( 'valuelink' ).default;\r\n\r\nmodule.exports = Nested.Link = Link;\r\n\r\nNested.Mixable.mixTo( Link );\r\n\r\n/**\r\n * Link to NestedType's model attribute.\r\n * Strict evaluation of value, lazy evaluation of validation error.\r\n * Links are cached in the models\r\n */\r\nfunction ModelLink( model, attr, value ){\r\n    Link.call( this, value );\r\n    this.model = model;\r\n    this.attr  = attr;\r\n}\r\n\r\nModelLink.prototype = Object.create( Link.prototype, {\r\n    constructor : { value : ModelLink },\r\n    set         : {\r\n        value : function( x ){\r\n            this.model[ this.attr ] = x;\r\n        }\r\n    },\r\n\r\n    error : {\r\n        get : function(){\r\n            if( this._error === void 0 ){\r\n                this._error = this.model.getValidationError( this.attr );\r\n            }\r\n\r\n            return this._error;\r\n        },\r\n\r\n        set : function( x ){\r\n            this._error = x;\r\n        }\r\n    }\r\n} );\r\n\r\nvar ModelProto = Nested.Model.prototype;\r\n\r\nObject.defineProperty( ModelProto, 'links', {\r\n    get : function(){\r\n        return this._links || ( this._links = new this.Attributes( {} ) );\r\n    }\r\n});\r\n\r\nfunction cacheLink( links, model, key ){\r\n    var cached = links[ key ],\r\n        value = model[ key ];\r\n\r\n    return cached && cached.value === value ? cached\r\n                : links[ key ] = new ModelLink( model, key, value );\r\n}\r\n\r\nModelProto.getLink = function( key ){\r\n    return cacheLink( this.links, this, key );\r\n};\r\n\r\nModelProto.linkAll = function(){\r\n    var links = this.links;\r\n\r\n    for( var i = 0; i < arguments.length; i++ ){\r\n        cacheLink( links, this, arguments[ i ] );\r\n    }\r\n\r\n    return links;\r\n};\r\n\r\n/**\r\n * Boolean link to presence of NestedType's model in collection.\r\n * Strict evaluation of value, no error.\r\n * Safe implementation of _changeToken.\r\n * @param collection\r\n * @param model\r\n * @constructor\r\n */\r\nfunction CollectionLink( collection, model ){\r\n    Link.call( this, Boolean( collection._byId[ model.cid ] ) );\r\n    this.collection = collection;\r\n    this.model      = model;\r\n}\r\n\r\nCollectionLink.prototype = Object.create( Link.prototype, {\r\n    constructor : { value : CollectionLink },\r\n    set : {\r\n        value : function( x ){\r\n            this.collection.toggle( this.model, x );\r\n        }\r\n    }\r\n} );\r\n\r\nvar CollectionProto = Nested.Collection.prototype;\r\n\r\nCollectionProto.hasLink = function( model ){\r\n    return new CollectionLink( this, model );\r\n};\r\n\r\nCollectionProto.getLink = function( prop ){\r\n    var collection = this;\r\n    return Link.value( collection[ prop ], function( x ){ collection[ prop ] = x; });\r\n};\r\n\r\nfunction ModelDeepLink( model, path, options ){\r\n    Link.call( this, model.deepGet( path ) );\r\n    this.model   = model;\r\n    this.path    = path;\r\n    this.options = options;\r\n}\r\n\r\nModelDeepLink.prototype = Object.create( Link.prototype, {\r\n    constructor : { value : ModelDeepLink },\r\n\r\n    error : {\r\n        get : function(){\r\n            if( this._error === void 0 ){\r\n                this._error = this.model.deepValidationError( this.path ) || null;\r\n            }\r\n\r\n            return this._error;\r\n        },\r\n\r\n        set : function( x ){\r\n            this._error = x;\r\n        }\r\n    },\r\n\r\n    _changeToken : {\r\n        get : function(){ return this.model._changeToken; }\r\n    }\r\n} );\r\n\r\nModelDeepLink.prototype.set = function( x ){\r\n    this.model.deepSet( this.path, x, this.options );\r\n};\r\n\r\nModelProto.deepLink = function( path, options ){\r\n    return new ModelDeepLink( this, path, options )\r\n};\r\n\r\nNested.link = function( reference ){\r\n    var getMaster = Nested.parseReference( reference );\r\n\r\n    function setLink( value ){\r\n        var link = getMaster.call( this );\r\n        link && link.set( value );\r\n    }\r\n\r\n    function getLink(){\r\n        var link = getMaster.call( this );\r\n        return link && link.value;\r\n    }\r\n\r\n    var LinkAttribute = Nested.attribute.Type.extend( {\r\n        createPropertySpec : function(){\r\n            return {\r\n                // call to optimized set function for single argument. Doesn't work for backbone types.\r\n                set : setLink,\r\n\r\n                // attach get hook to the getter function, if present\r\n                get : getLink\r\n            }\r\n        },\r\n\r\n        set : setLink\r\n    } );\r\n\r\n    var options       = Nested.attribute( { toJSON : false } );\r\n    options.Attribute = LinkAttribute;\r\n    return options;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/nested-link.js\n ** module id = 10\n ** module chunks = 0\n **/","/**\r\n * Advanced React links for purely functional two-way data binding\r\n *\r\n * MIT License, (c) 2016 Vlad Balin, Volicon.\r\n */\r\n\"use strict\";\r\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\n// Main Link class. All links must extend it.\r\nvar Link = (function () {\r\n    // create \r\n    function Link(value) {\r\n        this.value = value;\r\n    }\r\n    // Create link to componen't state\r\n    Link.state = function (component, key) {\r\n        var value = component.state[key], cache = component.links || (component.links = {}), cached = cache[key];\r\n        return cached && cached.value === value ? cached : cache[key] = new StateLink(value, component, key);\r\n    };\r\n    ;\r\n    // Ensure that listed links are cached. Return links cache.\r\n    Link.all = function (component) {\r\n        var state = component.state, links = component.links || (component.links = {});\r\n        for (var i = 1; i < arguments.length; i++) {\r\n            var key = arguments[i], value = state[key], cached = links[key];\r\n            if (!cached || cached.value !== value) {\r\n                links[key] = new StateLink(value, component, key);\r\n            }\r\n        }\r\n        return links;\r\n    };\r\n    // Create custom link to arbitrary value\r\n    Link.value = function (value, set) {\r\n        return new CustomLink(value, set);\r\n    };\r\n    Object.defineProperty(Link.prototype, \"validationError\", {\r\n        // DEPRECATED: Old error holder for backward compatibility with Volicon code base\r\n        get: function () { return this.error; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Link.prototype.onChange = function (handler) {\r\n        var _this = this;\r\n        return new CloneLink(this, function (x) {\r\n            handler(x);\r\n            _this.set(x);\r\n        });\r\n    };\r\n    // DEPRECATED: Old React method for backward compatibility\r\n    Link.prototype.requestChange = function (x) {\r\n        this.set(x);\r\n    };\r\n    // Immediately update the link value using given transform function.\r\n    Link.prototype.update = function (transform, e) {\r\n        var next = transform(this.clone(), e);\r\n        next === void 0 || this.set(next);\r\n    };\r\n    // Create new link which applies transform function on set.\r\n    Link.prototype.pipe = function (handler) {\r\n        var _this = this;\r\n        return new CloneLink(this, function (x) {\r\n            var next = handler(x);\r\n            next === void 0 || _this.set(next);\r\n        });\r\n    };\r\n    // Create UI event handler function which will update the link with a given transform function.\r\n    Link.prototype.action = function (transform) {\r\n        var _this = this;\r\n        return function (e) { return _this.update(transform, e); };\r\n    };\r\n    Link.prototype.equals = function (truthyValue) {\r\n        return new EqualsLink(this, truthyValue);\r\n    };\r\n    // Array-only links methods\r\n    Link.prototype.contains = function (element) {\r\n        return new ContainsLink(this, element);\r\n    };\r\n    Link.prototype.push = function () {\r\n        var array = arrayHelpers.clone(this.value);\r\n        Array.prototype.push.apply(array, arguments);\r\n        this.set(array);\r\n    };\r\n    Link.prototype.unshift = function () {\r\n        var array = arrayHelpers.clone(this.value);\r\n        Array.prototype.unshift.apply(array, arguments);\r\n        this.set(array);\r\n    };\r\n    Link.prototype.splice = function () {\r\n        var array = arrayHelpers.clone(this.value);\r\n        Array.prototype.splice.apply(array, arguments);\r\n        this.set(array);\r\n    };\r\n    // Array and objects universal collection methods\r\n    Link.prototype.map = function (iterator) {\r\n        return helpers(this.value).map(this, iterator);\r\n    };\r\n    Link.prototype.remove = function (key) {\r\n        var value = this.value, _ = helpers(value);\r\n        this.set(_.remove(_.clone(value), key));\r\n    };\r\n    Link.prototype.at = function (key) {\r\n        return new ChainedLink(this, key);\r\n    };\r\n    Link.prototype.clone = function () {\r\n        var value = this.value;\r\n        return helpers(value).clone(value);\r\n    };\r\n    Link.prototype.pick = function () {\r\n        var links = {};\r\n        for (var i = 0; i < arguments.length; i++) {\r\n            var key = arguments[i];\r\n            links[key] = new ChainedLink(this, key);\r\n        }\r\n        return links;\r\n    };\r\n    /**\r\n     * Validate link with validness predicate and optional custom error object. Can be chained.\r\n     */\r\n    Link.prototype.check = function (whenValid, error) {\r\n        if (!this.error && !whenValid(this.value)) {\r\n            this.error = error || whenValid.error || defaultError;\r\n        }\r\n        return this;\r\n    };\r\n    return Link;\r\n}());\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = Link;\r\nvar CustomLink = (function (_super) {\r\n    __extends(CustomLink, _super);\r\n    function CustomLink(value, set) {\r\n        _super.call(this, value);\r\n        this.set = set;\r\n    }\r\n    CustomLink.prototype.set = function (x) { };\r\n    return CustomLink;\r\n}(Link));\r\nexports.CustomLink = CustomLink;\r\nvar CloneLink = (function (_super) {\r\n    __extends(CloneLink, _super);\r\n    function CloneLink(parent, set) {\r\n        _super.call(this, parent.value);\r\n        this.set = set;\r\n        var error = parent.error;\r\n        if (error)\r\n            this.error = error;\r\n    }\r\n    CloneLink.prototype.set = function (x) { };\r\n    return CloneLink;\r\n}(Link));\r\nexports.CloneLink = CloneLink;\r\nvar StateLink = (function (_super) {\r\n    __extends(StateLink, _super);\r\n    function StateLink(value, component, key) {\r\n        _super.call(this, value);\r\n        this.component = component;\r\n        this.key = key;\r\n    }\r\n    StateLink.prototype.set = function (x) {\r\n        this.component.setState((_a = {}, _a[this.key] = x, _a));\r\n        var _a;\r\n    };\r\n    return StateLink;\r\n}(Link));\r\nexports.StateLink = StateLink;\r\nvar EqualsLink = (function (_super) {\r\n    __extends(EqualsLink, _super);\r\n    function EqualsLink(parent, truthyValue) {\r\n        _super.call(this, parent.value === truthyValue);\r\n        this.parent = parent;\r\n        this.truthyValue = truthyValue;\r\n    }\r\n    EqualsLink.prototype.set = function (x) {\r\n        this.parent.set(x ? this.truthyValue : null);\r\n    };\r\n    return EqualsLink;\r\n}(Link));\r\nexports.EqualsLink = EqualsLink;\r\nvar ContainsLink = (function (_super) {\r\n    __extends(ContainsLink, _super);\r\n    function ContainsLink(parent, element) {\r\n        _super.call(this, parent.value.indexOf(element) >= 0);\r\n        this.parent = parent;\r\n        this.element = element;\r\n    }\r\n    ContainsLink.prototype.set = function (x) {\r\n        var _this = this;\r\n        var next = Boolean(x);\r\n        if (this.value !== next) {\r\n            var arr = this.parent.value, nextValue = x ? arr.concat(this.element) : arr.filter(function (el) { return el !== _this.element; });\r\n            this.parent.set(nextValue);\r\n        }\r\n    };\r\n    return ContainsLink;\r\n}(Link));\r\nexports.ContainsLink = ContainsLink;\r\nvar defaultError = 'Invalid value';\r\n/**\r\n * Link to array or object element enclosed in parent link.\r\n * Performs purely functional update of the parent, shallow copying its value on `set`.\r\n */\r\nvar ChainedLink = (function (_super) {\r\n    __extends(ChainedLink, _super);\r\n    function ChainedLink(parent, key) {\r\n        _super.call(this, parent.value[key]);\r\n        this.parent = parent;\r\n        this.key = key;\r\n    }\r\n    ChainedLink.prototype.remove = function (key) {\r\n        if (key === void 0) {\r\n            this.parent.remove(this.key);\r\n        }\r\n        else {\r\n            _super.prototype.remove.call(this, key);\r\n        }\r\n    };\r\n    // Set new element value to parent array or object, performing purely functional update.\r\n    ChainedLink.prototype.set = function (x) {\r\n        var _this = this;\r\n        if (this.value !== x) {\r\n            this.parent.update(function (value) {\r\n                value[_this.key] = x;\r\n                return value;\r\n            });\r\n        }\r\n    };\r\n    ;\r\n    return ChainedLink;\r\n}(Link));\r\nexports.ChainedLink = ChainedLink;\r\nvar ArrayProto = Array.prototype, ObjectProto = Object.prototype;\r\nfunction helpers(value) {\r\n    if (value && typeof value === 'object') {\r\n        switch (Object.getPrototypeOf(value)) {\r\n            case ArrayProto: return arrayHelpers;\r\n            case ObjectProto: return objectHelpers;\r\n        }\r\n    }\r\n    return dummyHelpers;\r\n}\r\n// Do nothing for types other than Array and plain Object.\r\nvar dummyHelpers = {\r\n    clone: function (value) { return value; },\r\n    map: function (link, fun) { return []; },\r\n    remove: function (value) { return value; }\r\n};\r\n// `map` and `clone` for plain JS objects\r\nvar objectHelpers = {\r\n    // Map through the link to object\r\n    map: function (link, iterator) {\r\n        var hash = link.value;\r\n        var mapped = [];\r\n        for (var key in hash) {\r\n            var element = iterator(link.at(key), key);\r\n            element === void 0 || (mapped.push(element));\r\n        }\r\n        return mapped;\r\n    },\r\n    remove: function (object, key) {\r\n        delete object[key];\r\n        return object;\r\n    },\r\n    // Shallow clone plain JS object\r\n    clone: function (object) {\r\n        var cloned = {};\r\n        for (var key in object) {\r\n            cloned[key] = object[key];\r\n        }\r\n        return cloned;\r\n    }\r\n};\r\n// `map` and `clone` helpers for arrays.\r\nvar arrayHelpers = {\r\n    // Shallow clone array\r\n    clone: function (array) {\r\n        return array.slice();\r\n    },\r\n    remove: function (array, i) {\r\n        array.splice(i, 1);\r\n        return array;\r\n    },\r\n    // Map through the link to array\r\n    map: function (link, iterator) {\r\n        var mapped = [], array = link.value;\r\n        for (var i = 0; i < array.length; i++) {\r\n            var y = iterator(link.at(i), i);\r\n            y === void 0 || (mapped.push(y));\r\n        }\r\n        return mapped;\r\n    }\r\n};\r\n//# sourceMappingURL=valuelink.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/valuelink/valuelink.js\n ** module id = 11\n ** module chunks = 0\n **/"],"sourceRoot":""}