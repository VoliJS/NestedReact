{"version":3,"file":"index.js","sources":["../node_modules/tslib/tslib.es6.js","../lib/react-mvx/define/state.js","../lib/react-mvx/define/store.js","../lib/react-mvx/define/typeSpecs.js","../lib/react-mvx/define/context.js","../lib/react-mvx/define/pureRender.js","../lib/react-mvx/define/props.js","../lib/react-mvx/define/index.js","../lib/react-mvx/valuelink/helpers.js","../lib/react-mvx/valuelink/link.js","../lib/react-mvx/link.js","../lib/react-mvx/component.js","../lib/react-mvx/index.js","../lib/view-element.js","../lib/component-view.js","../lib/createClass.js","../lib/index.js"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n","import * as tslib_1 from \"tslib\";\n/*****************\n * State\n */\nimport { define, Record, Store } from 'type-r';\nexport default function process(definition, BaseComponentClass) {\n    var prototype = this.prototype;\n    var state = definition.state, State = definition.State;\n    if (typeof state === 'function') {\n        State = state;\n        state = void 0;\n    }\n    if (state) {\n        var BaseClass = State || prototype.State || Record;\n        var ComponentState = (function (_super) {\n            tslib_1.__extends(ComponentState, _super);\n            function ComponentState() {\n                return _super !== null && _super.apply(this, arguments) || this;\n            }\n            return ComponentState;\n        }(BaseClass));\n        ComponentState.attributes = state;\n        ComponentState = tslib_1.__decorate([\n            define\n        ], ComponentState);\n        prototype.State = ComponentState;\n    }\n    else if (State) {\n        prototype.State = State;\n    }\n    if (state || State) {\n        this.mixins.merge([StateMixin, UpdateOnNestedChangesMixin]);\n    }\n}\nexport var StateMixin = {\n    //state : null,\n    _initializeState: function () {\n        // props.__keepState is used to workaround issues in Backbone intergation layer\n        var state = this.state = this.props.__keepState || new this.State();\n        // Take ownership on state...\n        state._owner = this;\n        state._ownerKey = 'state';\n    },\n    context: {\n        _nestedStore: Store\n    },\n    // reference global store to fix model's store locator\n    getStore: function () {\n        // Attempt to get the store from the context first. Then - fallback to the state's default store.\n        // TBD: Need to figure out a good way of managing local stores.\n        var context, state;\n        return ((context = this.context) && context._nestedStore) ||\n            ((state = this.state) && state._defaultStore);\n    },\n    componentWillUnmount: function () {\n        var state = this.state;\n        state._owner = state._ownerKey = void 0;\n        this._preventDispose /* hack for component-view to preserve the state */ || state.dispose();\n        this.state = void 0;\n    }\n};\nexport var UpdateOnNestedChangesMixin = {\n    _onChildrenChange: function () { },\n    componentDidMount: function () {\n        this._onChildrenChange = this.asyncUpdate;\n    }\n};\n//# sourceMappingURL=state.js.map","import * as tslib_1 from \"tslib\";\nimport { define, Store } from 'type-r';\nimport { StateMixin, UpdateOnNestedChangesMixin } from './state';\nexport default function onDefine(definition, BaseClass) {\n    var store = definition.store, StoreClass = definition.Store;\n    if (store && store instanceof Store) {\n        // Direct reference to an existing store. Put it to the prototype.\n        this.prototype.store = store;\n        this.mixins.merge([ExternalStoreMixin, ExposeStoreMixin]);\n    }\n    else if (store || definition.Store) {\n        if (typeof store === 'function') {\n            StoreClass = store;\n            store = void 0;\n        }\n        if (store) {\n            var BaseClass_1 = StoreClass || this.prototype.Store || Store;\n            var InternalStore = (function (_super) {\n                tslib_1.__extends(InternalStore, _super);\n                function InternalStore() {\n                    return _super !== null && _super.apply(this, arguments) || this;\n                }\n                return InternalStore;\n            }(BaseClass_1));\n            InternalStore.attrbutes = store;\n            InternalStore = tslib_1.__decorate([\n                define\n            ], InternalStore);\n            ;\n            this.prototype.Store = InternalStore;\n        }\n        else if (StoreClass) {\n            this.prototype.Store = StoreClass;\n        }\n        this.mixins.merge([InternalStoreMixin, UpdateOnNestedChangesMixin, ExposeStoreMixin]);\n    }\n}\n/**\n * Attached whenever the store declaration of any form is present in the component.\n */\nvar ExposeStoreMixin = {\n    childContext: {\n        _nestedStore: Store\n    },\n    getChildContext: function () {\n        return { _nestedStore: this.store };\n    },\n    getStore: function () {\n        return this.store;\n    },\n    // Will be called by the store when the lookup will fail.\n    get: function (key) {\n        // Ask upper store.\n        var store = StateMixin.getStore.call(this, key);\n        return store && store.get(key);\n    }\n};\n/**\n * External store must just track the changes and trigger render.\n * TBD: don't use it yet.\n */\nvar ExternalStoreMixin = {\n    componentDidMount: function () {\n        // Start UI updates on state changes.\n        this.listenTo(this.store, 'change', this.asyncUpdate);\n    }\n};\nvar InternalStoreMixin = {\n    componentWillMount: function () {\n        var store = this.store = new this.Store();\n        store._owner = this;\n        store._ownerKey = 'store';\n    },\n    componentWillUnmount: function () {\n        this.store._ownerKey = this.store._owner = void 0;\n        this.store.dispose();\n        this.store = void 0;\n    }\n};\n//# sourceMappingURL=store.js.map","import * as PropTypes from 'prop-types';\nimport { Record } from 'type-r';\nexport function compileSpecs(props) {\n    var propTypes = {}, \n    // Create NestedTypes model definition to process props spec.\n    modelProto = Record.defaults(props).prototype;\n    var defaults, watchers, changeHandlers;\n    modelProto.forEachAttr(modelProto._attributes, function (spec, name) {\n        // Skip auto-generated `id` attribute.\n        if (name !== 'id') {\n            var value = spec.value, type = spec.type, options = spec.options;\n            // Translate props type to the propTypes guard.\n            propTypes[name] = translateType(type, options.isRequired);\n            if (options._onChange) {\n                watchers || (watchers = {});\n                watchers[name] = toLocalWatcher(options._onChange);\n            }\n            // Handle listening to event maps...\n            if (options.changeHandlers && options.changeHandlers.length) {\n                changeHandlers || (changeHandlers = {});\n                changeHandlers[name] = options.changeHandlers;\n            }\n            // Handle listening to props changes...\n            if (options.changeEvents) {\n                changeHandlers || (changeHandlers = {});\n                var handlers = changeHandlers[name] || (changeHandlers[name] = []), changeEvents_1 = typeof options.changeEvents === 'string' ? options.changeEvents : null;\n                handlers.push(function (next, prev, component) {\n                    prev && component.stopListening(prev);\n                    next && component.listenTo(next, changeEvents_1 || next._changeEventName, component.asyncUpdate);\n                });\n            }\n            // If default value is explicitly provided...\n            if (value !== void 0) {\n                //...append it to getDefaultProps function.\n                defaults || (defaults = {});\n                defaults[name] = spec.convert(value, void 0, null, {});\n            }\n        }\n    });\n    return { propTypes: propTypes, defaults: defaults, watchers: watchers, changeHandlers: changeHandlers };\n}\nfunction toLocalWatcher(ref) {\n    return typeof ref === 'function' ? ref : function (value, name) {\n        this[ref] && this[ref](value, name);\n    };\n}\nvar Node = (function () {\n    function Node() {\n    }\n    return Node;\n}());\nexport { Node };\nvar Element = (function () {\n    function Element() {\n    }\n    return Element;\n}());\nexport { Element };\nfunction translateType(Type, isRequired) {\n    var T = _translateType(Type);\n    return isRequired ? T.isRequired : T;\n}\nfunction _translateType(Type) {\n    switch (Type) {\n        case Number:\n        case Number.integer:\n            return PropTypes.number;\n        case String:\n            return PropTypes.string;\n        case Boolean:\n            return PropTypes.bool;\n        case Array:\n            return PropTypes.array;\n        case Function:\n            return PropTypes.func;\n        case Object:\n            return PropTypes.object;\n        case Node:\n            return PropTypes.node;\n        case Element:\n            return PropTypes.element;\n        case void 0:\n        case null:\n            return PropTypes.any;\n        default:\n            return PropTypes.instanceOf(Type);\n    }\n}\n//# sourceMappingURL=typeSpecs.js.map","import { compileSpecs } from './typeSpecs';\nimport { tools } from 'type-r';\nexport default function onDefine(_a, BaseClass) {\n    var context = _a.context, childContext = _a.childContext;\n    var prototype = this.prototype;\n    if (context) {\n        // Merge in inherited members...\n        prototype._context = tools.defaults(context, BaseClass.prototype._context || {});\n        // Compile to propTypes...\n        this.contextTypes = compileSpecs(context).propTypes;\n    }\n    if (childContext) {\n        prototype._childContext = tools.defaults(childContext, BaseClass.prototype._childContext);\n        this.childContextTypes = compileSpecs(childContext).propTypes;\n    }\n}\n//# sourceMappingURL=context.js.map","export function createChangeTokensConstructor(props) {\n    var propNames = Object.keys(props);\n    var PropsChangeTokens = new Function('p', 's', \"\\n        var v;\\n        this._s = s && s._changeToken;\\n        \" + propNames.map(function (name) { return \"\\n            this.\" + name + \" = ( ( v = p.\" + name + \") && v._changeToken ) || v;\\n        \"; }).join('') + \"\\n    \");\n    PropsChangeTokens.prototype._hasChanges = new Function('p', 's', \"\\n        var v;\\n        return ( ( s && s._changeToken ) !== this._s ) \" + propNames.map(function (name) { return \" ||\\n            this.\" + name + \" !== ( ( ( v = p.\" + name + \") && v._changeToken ) || v )\\n        \"; }).join('') + \";\\n    \");\n    return PropsChangeTokens;\n}\n;\nexport var EmptyPropsChangeTokensCtor = createChangeTokensConstructor({});\nexport var PureRenderMixin = {\n    shouldComponentUpdate: function (nextProps) {\n        return this._propsChangeTokens._hasChanges(nextProps, this.state);\n    },\n    componentDidMount: updateChangeTokens,\n    componentDidUpdate: updateChangeTokens\n};\nfunction updateChangeTokens() {\n    this._propsChangeTokens = new this.PropsChangeTokens(this.props, this.state);\n}\n//# sourceMappingURL=pureRender.js.map","/**\n * Handle props specification and everything which is related:\n * - local listening to props changes\n * - pure render mixin\n */\nimport { compileSpecs } from './typeSpecs';\nimport { PureRenderMixin, createChangeTokensConstructor } from './pureRender';\nimport { tools } from 'type-r';\nexport default function onDefine(_a, BaseClass) {\n    var props = _a.props, pureRender = _a.pureRender;\n    var prototype = this.prototype;\n    // process props spec...\n    if (props) {\n        // Merge with inherited members...\n        prototype._props = tools.defaults(props, BaseClass.prototype._props || {});\n        var _b = compileSpecs(props), propTypes = _b.propTypes, defaults = _b.defaults, watchers = _b.watchers, changeHandlers = _b.changeHandlers;\n        this.propTypes = propTypes;\n        if (defaults)\n            this.defaultProps = defaults;\n        if (watchers) {\n            prototype._watchers = watchers;\n            this.mixins.merge([WatchersMixin]);\n        }\n        if (changeHandlers) {\n            prototype._changeHandlers = changeHandlers;\n            this.mixins.merge([ChangeHandlersMixin]);\n        }\n        if (prototype.pureRender) {\n            prototype.PropsChangeTokens = createChangeTokensConstructor(props);\n        }\n    }\n    if (pureRender) {\n        this.mixins.merge([PureRenderMixin]);\n    }\n}\n/**\n * ChangeHandlers are fired in sequence upon props replacement.\n * Fires _after_ UI is updated. Used for managing events subscriptions.\n */\nvar ChangeHandlersMixin = {\n    componentDidMount: function () {\n        handlePropsChanges(this, {}, this.props);\n    },\n    componentDidUpdate: function (prev) {\n        handlePropsChanges(this, prev, this.props);\n    },\n    componentWillUnmount: function () {\n        handlePropsChanges(this, this.props, {});\n    }\n};\nfunction handlePropsChanges(component, prev, next) {\n    var _changeHandlers = component._changeHandlers;\n    for (var name_1 in _changeHandlers) {\n        if (prev[name_1] !== next[name_1]) {\n            for (var _i = 0, _a = _changeHandlers[name_1]; _i < _a.length; _i++) {\n                var handler = _a[_i];\n                handler(next[name_1], prev[name_1], component);\n            }\n        }\n    }\n}\n/**\n * Watchers works on props replacement and fires _before_ any change will be applied and UI is updated.\n * Fired in componentWillMount as well, which makes it a nice way to sync state from props.\n */\nvar WatchersMixin = {\n    componentWillReceiveProps: function (next) {\n        var _a = this, _watchers = _a._watchers, props = _a.props;\n        for (var name_2 in _watchers) {\n            if (next[name_2] !== props[name_2]) {\n                _watchers[name_2].call(this, next[name_2], name_2);\n            }\n        }\n    },\n    componentWillMount: function () {\n        var _a = this, _watchers = _a._watchers, props = _a.props;\n        for (var name_3 in _watchers) {\n            _watchers[name_3].call(this, props[name_3], name_3);\n        }\n    }\n};\n//# sourceMappingURL=props.js.map","import { Messenger } from 'type-r';\nimport onDefineStore from './store';\nimport onDefineState from './state';\nimport onDefineContext from './context';\nimport onDefineProps from './props';\nexport default function onDefine(definition, BaseClass) {\n    // Initialize mixins placeholder...\n    onDefineStore.call(this, definition, BaseClass);\n    onDefineState.call(this, definition, BaseClass);\n    onDefineContext.call(this, definition, BaseClass);\n    onDefineProps.call(this, definition, BaseClass);\n    Messenger.onDefine.call(this, definition, BaseClass);\n}\n;\nexport { Node, Element } from './typeSpecs';\nexport { EmptyPropsChangeTokensCtor } from './pureRender';\n//# sourceMappingURL=index.js.map","var ArrayProto = Array.prototype, ObjectProto = Object.prototype;\nexport function helpers(value) {\n    if (value && typeof value === 'object') {\n        switch (Object.getPrototypeOf(value)) {\n            case ArrayProto: return arrayHelpers;\n            case ObjectProto: return objectHelpers;\n        }\n    }\n    return dummyHelpers;\n}\n// Do nothing for types other than Array and plain Object.\nvar dummyHelpers = {\n    clone: function (value) { return value; },\n    map: function (link, fun) { return []; },\n    remove: function (value) { return value; }\n};\n// `map` and `clone` for plain JS objects\nexport var objectHelpers = {\n    // Map through the link to object\n    map: function (link, iterator) {\n        var mapped = [];\n        for (var key in link.value) {\n            var element = iterator(link.at(key), key);\n            element === void 0 || (mapped.push(element));\n        }\n        return mapped;\n    },\n    remove: function (object, key) {\n        delete object[key];\n        return object;\n    },\n    // Shallow clone plain JS object\n    clone: function (object) {\n        var cloned = {};\n        for (var key in object) {\n            cloned[key] = object[key];\n        }\n        return cloned;\n    }\n};\n// `map` and `clone` helpers for arrays.\nexport var arrayHelpers = {\n    // Shallow clone array\n    clone: function (array) {\n        return array.slice();\n    },\n    remove: function (array, i) {\n        array.splice(i, 1);\n        return array;\n    },\n    // Map through the link to array\n    map: function (link, iterator) {\n        var length = link.value.length, mapped = Array(length);\n        for (var i = 0, j = 0; i < length; i++) {\n            var y = iterator(link.at(i), i);\n            y === void 0 || (mapped[j++] = y);\n        }\n        mapped.length === j || (mapped.length = j);\n        return mapped;\n    }\n};\n//# sourceMappingURL=helpers.js.map","import * as tslib_1 from \"tslib\";\n/**\n * Advanced React links for purely functional two-way data binding\n *\n * MIT License, (c) 2016 Vlad Balin, Volicon.\n */\nimport { helpers, arrayHelpers } from './helpers';\n// Main Link class. All links must extend it.\nvar Link = (function () {\n    // create \n    function Link(value) {\n        this.value = value;\n    }\n    // Create custom link to arbitrary value\n    Link.value = function (value, set) {\n        return new CustomLink(value, set);\n    };\n    Object.defineProperty(Link.prototype, \"validationError\", {\n        // DEPRECATED: Old error holder for backward compatibility with Volicon code base\n        get: function () { return this.error; },\n        enumerable: true,\n        configurable: true\n    });\n    Link.prototype.onChange = function (handler) {\n        var _this = this;\n        return new CloneLink(this, function (x) {\n            handler(x);\n            _this.set(x);\n        });\n    };\n    Object.defineProperty(Link.prototype, \"props\", {\n        // <input { ...link.props } />\n        get: function () {\n            var _this = this;\n            return typeof this.value === 'boolean' ? {\n                checked: this.value,\n                onChange: function (e) { return _this.set(Boolean(e.target.checked)); }\n            } : {\n                value: this.value,\n                onChange: function (e) { return _this.set(e.target.value); }\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // DEPRECATED: Old React method for backward compatibility\n    Link.prototype.requestChange = function (x) {\n        this.set(x);\n    };\n    // Immediately update the link value using given transform function.\n    Link.prototype.update = function (transform, e) {\n        var next = transform(this.clone(), e);\n        next === void 0 || this.set(next);\n    };\n    // Create new link which applies transform function on set.\n    Link.prototype.pipe = function (handler) {\n        var _this = this;\n        return new CloneLink(this, function (x) {\n            var next = handler(x, _this.value);\n            next === void 0 || _this.set(next);\n        });\n    };\n    // Create UI event handler function which will update the link with a given transform function.\n    Link.prototype.action = function (transform) {\n        var _this = this;\n        return function (e) { return _this.update(transform, e); };\n    };\n    Link.prototype.equals = function (truthyValue) {\n        return new EqualsLink(this, truthyValue);\n    };\n    Link.prototype.enabled = function (defaultValue) {\n        return new EnabledLink(this, defaultValue || \"\");\n    };\n    // Array-only links methods\n    Link.prototype.contains = function (element) {\n        return new ContainsLink(this, element);\n    };\n    Link.prototype.push = function () {\n        var array = arrayHelpers.clone(this.value);\n        Array.prototype.push.apply(array, arguments);\n        this.set(array);\n    };\n    Link.prototype.unshift = function () {\n        var array = arrayHelpers.clone(this.value);\n        Array.prototype.unshift.apply(array, arguments);\n        this.set(array);\n    };\n    Link.prototype.splice = function () {\n        var array = arrayHelpers.clone(this.value);\n        Array.prototype.splice.apply(array, arguments);\n        this.set(array);\n    };\n    Link.prototype.map = function (iterator) {\n        return helpers(this.value).map(this, iterator);\n    };\n    Link.prototype.removeAt = function (key) {\n        var value = this.value, _ = helpers(value);\n        this.set(_.remove(_.clone(value), key));\n    };\n    Link.prototype.at = function (key) {\n        return new LinkAt(this, key);\n    };\n    Link.prototype.clone = function () {\n        var value = this.value;\n        return helpers(value).clone(value);\n    };\n    Link.prototype.pick = function () {\n        var links = {};\n        for (var i = 0; i < arguments.length; i++) {\n            var key = arguments[i];\n            links[key] = new LinkAt(this, key);\n        }\n        return links;\n    };\n    /**\n     * Validate link with validness predicate and optional custom error object. Can be chained.\n     */\n    Link.prototype.check = function (whenValid, error) {\n        if (!this.error && !whenValid(this.value)) {\n            this.error = error || whenValid.error || defaultError;\n        }\n        return this;\n    };\n    return Link;\n}());\nexport { Link };\nvar CustomLink = (function (_super) {\n    tslib_1.__extends(CustomLink, _super);\n    function CustomLink(value, set) {\n        var _this = _super.call(this, value) || this;\n        _this.set = set;\n        return _this;\n    }\n    CustomLink.prototype.set = function (x) { };\n    return CustomLink;\n}(Link));\nexport { CustomLink };\nvar CloneLink = (function (_super) {\n    tslib_1.__extends(CloneLink, _super);\n    function CloneLink(parent, set) {\n        var _this = _super.call(this, parent.value) || this;\n        _this.set = set;\n        var error = parent.error;\n        if (error)\n            _this.error = error;\n        return _this;\n    }\n    CloneLink.prototype.set = function (x) { };\n    return CloneLink;\n}(Link));\nexport { CloneLink };\nvar EqualsLink = (function (_super) {\n    tslib_1.__extends(EqualsLink, _super);\n    function EqualsLink(parent, truthyValue) {\n        var _this = _super.call(this, parent.value === truthyValue) || this;\n        _this.parent = parent;\n        _this.truthyValue = truthyValue;\n        return _this;\n    }\n    EqualsLink.prototype.set = function (x) {\n        this.parent.set(x ? this.truthyValue : null);\n    };\n    return EqualsLink;\n}(Link));\nexport { EqualsLink };\nvar EnabledLink = (function (_super) {\n    tslib_1.__extends(EnabledLink, _super);\n    function EnabledLink(parent, defaultValue) {\n        var _this = _super.call(this, parent.value != null) || this;\n        _this.parent = parent;\n        _this.defaultValue = defaultValue;\n        return _this;\n    }\n    EnabledLink.prototype.set = function (x) {\n        this.parent.set(x ? this.defaultValue : null);\n    };\n    return EnabledLink;\n}(Link));\nexport { EnabledLink };\nvar ContainsLink = (function (_super) {\n    tslib_1.__extends(ContainsLink, _super);\n    function ContainsLink(parent, element) {\n        var _this = _super.call(this, parent.value.indexOf(element) >= 0) || this;\n        _this.parent = parent;\n        _this.element = element;\n        return _this;\n    }\n    ContainsLink.prototype.set = function (x) {\n        var _this = this;\n        var next = Boolean(x);\n        if (this.value !== next) {\n            var arr = this.parent.value, nextValue = x ? arr.concat(this.element) : arr.filter(function (el) { return el !== _this.element; });\n            this.parent.set(nextValue);\n        }\n    };\n    return ContainsLink;\n}(Link));\nexport { ContainsLink };\nvar defaultError = 'Invalid value';\n/**\n * Link to array or object element enclosed in parent link.\n * Performs purely functional update of the parent, shallow copying its value on `set`.\n */\nvar LinkAt = (function (_super) {\n    tslib_1.__extends(LinkAt, _super);\n    function LinkAt(parent, key) {\n        var _this = _super.call(this, parent.value[key]) || this;\n        _this.parent = parent;\n        _this.key = key;\n        return _this;\n    }\n    LinkAt.prototype.remove = function () {\n        this.parent.removeAt(this.key);\n    };\n    // Set new element value to parent array or object, performing purely functional update.\n    LinkAt.prototype.set = function (x) {\n        var _this = this;\n        if (this.value !== x) {\n            this.parent.update(function (value) {\n                value[_this.key] = x;\n                return value;\n            });\n        }\n    };\n    ;\n    return LinkAt;\n}(Link));\nexport { LinkAt };\n//# sourceMappingURL=link.js.map","/**\n * Import ValueLink library\n * Define value links binding mixins to the Record and Collection\n */\nimport * as tslib_1 from \"tslib\";\nimport { Mixable, MixinsState, Record } from 'type-r';\nimport { Link } from './valuelink/link';\nexport default Link;\nMixable.mixins.populate(Link);\n/**\n * Record\n */\nMixinsState.get(Record).merge([{\n        // Link to the record's attribute by its key.\n        linkAt: function (key) {\n            return cacheLink(getLinksCache(this), this, key);\n        },\n        // Link to the attribute of the record's tree by symbolic path.\n        linkPath: function (path, options) {\n            return new RecordDeepLink(this, path, options);\n        },\n        // Link all (or listed) attributes and return links cache.\n        linkAll: function () {\n            var links = getLinksCache(this);\n            if (arguments.length) {\n                for (var i = 0; i < arguments.length; i++) {\n                    cacheLink(links, this, arguments[i]);\n                }\n            }\n            else {\n                var attributes = this.attributes;\n                for (var key in attributes) {\n                    attributes[key] === void 0 || cacheLink(links, this, key);\n                }\n            }\n            return links;\n        }\n    }]);\n/**\n * Link to Type-R's record attribute.\n * Strict evaluation of value, lazy evaluation of validation error.\n * Links are cached in the records\n */\nvar RecordLink = (function (_super) {\n    tslib_1.__extends(RecordLink, _super);\n    function RecordLink(record, attr, value) {\n        var _this = _super.call(this, value) || this;\n        _this.record = record;\n        _this.attr = attr;\n        return _this;\n    }\n    RecordLink.prototype.set = function (x) {\n        this.record[this.attr] = x;\n    };\n    Object.defineProperty(RecordLink.prototype, \"error\", {\n        get: function () {\n            return this._error === void 0 ?\n                this.record.getValidationError(this.attr) :\n                this._error;\n        },\n        set: function (x) {\n            this._error = x;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return RecordLink;\n}(Link));\nvar RecordDeepLink = (function (_super) {\n    tslib_1.__extends(RecordDeepLink, _super);\n    function RecordDeepLink(record, path, options) {\n        var _this = _super.call(this, record.deepGet(path)) || this;\n        _this.record = record;\n        _this.path = path;\n        _this.options = options;\n        return _this;\n    }\n    Object.defineProperty(RecordDeepLink.prototype, \"error\", {\n        get: function () {\n            if (this._error === void 0) {\n                this._error = this.record.deepValidationError(this.path) || null;\n            }\n            return this._error;\n        },\n        set: function (x) {\n            this._error = x;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RecordDeepLink.prototype, \"_changeToken\", {\n        get: function () {\n            return this.record._changeToken;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    RecordDeepLink.prototype.set = function (x) {\n        this.record.deepSet(this.path, x, this.options);\n    };\n    return RecordDeepLink;\n}(Link));\nfunction getLinksCache(record) {\n    return record._links || (record._links = new record.AttributesCopy({}));\n}\nfunction cacheLink(links, record, key) {\n    var cached = links[key], value = record[key];\n    return cached && cached.value === value ? cached\n        : links[key] = new RecordLink(record, key, value);\n}\n/***********************************\n * Collection\n */\nMixinsState.get(Record.Collection).merge([{\n        // Boolean link to the record's presence in the collection\n        linkContains: function (record) {\n            return new CollectionLink(this, record);\n        },\n        // Link to collection's property\n        linkAt: function (prop) {\n            var _this = this;\n            return Link.value(this[prop], function (x) { return _this[prop] = x; });\n        }\n    }]);\n/**\n * Boolean link to presence of NestedType's record in collection.\n * Strict evaluation of value, no error.\n * Safe implementation of _changeToken.\n */\nvar CollectionLink = (function (_super) {\n    tslib_1.__extends(CollectionLink, _super);\n    function CollectionLink(collection, record) {\n        var _this = _super.call(this, Boolean(collection.get(record))) || this;\n        _this.collection = collection;\n        _this.record = record;\n        return _this;\n    }\n    CollectionLink.prototype.set = function (x) {\n        this.collection.toggle(this.record, x);\n    };\n    return CollectionLink;\n}(Link));\n//# sourceMappingURL=link.js.map","/**\n * React-Type-R component base class. Overrides React component.\n */\nimport * as tslib_1 from \"tslib\";\nimport * as React from 'react';\nimport { mixinRules, define, mixins, definitions, Messenger } from 'type-r';\nimport onDefine, { EmptyPropsChangeTokensCtor } from './define';\nvar Component = (function (_super) {\n    tslib_1.__extends(Component, _super);\n    function Component(props, context) {\n        var _this = _super.call(this, props, context) || this;\n        _this._initializeState();\n        return _this;\n    }\n    Component.prototype.linkAt = function (key) {\n        // Quick and dirty hack to suppres type error - refactor later.\n        return this.state.linkAt(key);\n    };\n    Component.prototype.linkAll = function () {\n        // Quick and dirty hack to suppres type error - refactor later.\n        var state = this.state;\n        return state.linkAll.apply(state, arguments);\n    };\n    Component.prototype.linkPath = function (path) {\n        return this.state.linkPath(path);\n    };\n    Object.defineProperty(Component.prototype, \"links\", {\n        get: function () {\n            return this.state._links;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Component.prototype._initializeState = function () {\n        this.state = null;\n    };\n    Component.prototype.assignToState = function (x, key) {\n        this.state.assignFrom((_a = {}, _a[key] = x, _a));\n        var _a;\n    };\n    Component.prototype.componentWillUnmount = function () {\n        this.dispose();\n    };\n    /**\n     * Performs transactional update for both props and state.\n     * Suppress updates during the transaction, and force update aftewards.\n     * Wrapping the sequence of changes in a transactions guarantees that\n     * React component will be updated _after_ all the changes to the\n     * both props and local state are applied.\n     */\n    Component.prototype.transaction = function (fun) {\n        var shouldComponentUpdate = this.shouldComponentUpdate, isRoot = shouldComponentUpdate !== returnFalse;\n        if (isRoot) {\n            this.shouldComponentUpdate = returnFalse;\n        }\n        var _a = this, state = _a.state, store = _a.store, withStore = store ? function (state) { return store.transaction(function () { return fun(state); }); } : fun;\n        state ? state.transaction(withStore) : withStore(state);\n        if (isRoot) {\n            this.shouldComponentUpdate = shouldComponentUpdate;\n            this.asyncUpdate();\n        }\n    };\n    // Safe version of the forceUpdate suitable for asynchronous callbacks.\n    Component.prototype.asyncUpdate = function () {\n        this.shouldComponentUpdate === returnFalse || this._disposed || this.forceUpdate();\n    };\n    return Component;\n}(React.Component));\nComponent.onDefine = onDefine;\nComponent = tslib_1.__decorate([\n    define({\n        PropsChangeTokens: EmptyPropsChangeTokensCtor\n    }),\n    definitions({\n        // Definitions to be extracted from mixins and statics and passed to `onDefine()`\n        state: mixinRules.merge,\n        State: mixinRules.value,\n        store: mixinRules.merge,\n        Store: mixinRules.value,\n        props: mixinRules.merge,\n        context: mixinRules.merge,\n        childContext: mixinRules.merge,\n        pureRender: mixinRules.protoValue\n    }),\n    mixinRules({\n        // Apply old-school React mixin rules.\n        componentWillMount: mixinRules.classLast,\n        componentDidMount: mixinRules.classLast,\n        componentWillReceiveProps: mixinRules.classLast,\n        componentWillUpdate: mixinRules.classLast,\n        componentDidUpdate: mixinRules.classLast,\n        componentWillUnmount: mixinRules.classFirst,\n        // And a bit more to fix inheritance quirks.\n        shouldComponentUpdate: mixinRules.some,\n        getChildContext: mixinRules.defaults\n    })\n    // Component can send and receive events...\n    ,\n    mixins(Messenger)\n], Component);\nexport { Component };\nfunction returnFalse() { return false; }\n// Looks like React guys _really_ want to deprecate it. But no way.\n// We will work around their attempt.\nObject.defineProperty(Component.prototype, 'isMounted', {\n    value: function isMounted() {\n        return !this._disposed;\n    }\n});\n//# sourceMappingURL=component.js.map","import * as React from 'react';\nimport { define, mixins } from 'type-r';\nimport { Node, Element } from './define';\nimport Link from './link';\nimport { Component } from './component';\n// extend React namespace\nvar ReactMVx = Object.create(React);\n// Make it compatible with ES6 module format.\nReactMVx.default = ReactMVx;\n// listenToProps, listenToState, model, attributes, Model\nReactMVx.define = define;\nReactMVx.mixins = mixins;\nReactMVx.Node = Node.value(null);\nReactMVx.Element = Element.value(null);\nReactMVx.Link = Link;\nReactMVx.Component = Component;\nvar assignToState = ReactMVx.assignToState = function (key) {\n    return function (prop) {\n        var source = prop && prop instanceof Link ? prop.value : prop;\n        this.state.assignFrom((_a = {}, _a[key] = source, _a));\n        if (source && source._changeToken) {\n            this.state[key]._changeToken = source._changeToken;\n        }\n        var _a;\n    };\n};\nexport default ReactMVx;\nexport { define, mixins, Node, Element, Link, Component, assignToState };\n//# sourceMappingURL=index.js.map","import * as tslib_1 from \"tslib\";\nimport React, { Component } from './react-mvx';\nimport { tools } from 'type-r';\nvar notEqual = tools.notEqual;\nvar BackboneView = (function (_super) {\n    tslib_1.__extends(BackboneView, _super);\n    function BackboneView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.saveRef = function (element) {\n            _this.root = element;\n        };\n        return _this;\n    }\n    BackboneView.prototype.shouldComponentUpdate = function (next) {\n        var props = this.props;\n        return next.View !== props.View || notEqual(next.options, props.options);\n    };\n    BackboneView.prototype.hasUnsavedChanges = function () {\n        var view = this.view;\n        return view && (typeof view.hasUnsavedChanges === 'function' ? view.hasUnsavedChanges() : view.hasUnsavedChanges);\n    };\n    BackboneView.prototype.render = function () {\n        return React.createElement('div', {\n            ref: this.saveRef,\n            className: this.props.className\n        });\n    };\n    BackboneView.prototype.componentDidMount = function () {\n        this._mountView();\n    };\n    BackboneView.prototype.componentDidUpdate = function () {\n        this._dispose();\n        this._mountView();\n    };\n    BackboneView.prototype.componentWillUnmount = function () {\n        this._dispose();\n    };\n    BackboneView.prototype._mountView = function () {\n        var el = this.root, p = this.props;\n        var view = this.view = p.options ? new p.View(p.options) : new p.View();\n        el.appendChild(view.el);\n        view.render();\n    };\n    BackboneView.prototype._dispose = function () {\n        var view = this.view;\n        if (view) {\n            if (view.dispose) {\n                view.dispose();\n            }\n            else {\n                view.stopListening();\n                view.off();\n            }\n            this.root.innerHTML = \"\";\n            this.view = null;\n        }\n    };\n    return BackboneView;\n}(Component));\nexport default BackboneView;\n//# sourceMappingURL=view-element.js.map","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { tools } from 'type-r';\nwindow.Page || (window.Page = { forceResize: function () { } });\nexport default function use(View) {\n    var dispose = View.prototype.dispose || function () { }, setElement = View.prototype.setElement;\n    var ComponentView = View.extend({\n        reactClass: null,\n        props: {},\n        element: null,\n        initialize: function (props) {\n            // memorise arguments to pass to React\n            this.options = props || {};\n        },\n        setElement: function () {\n            this.unmountComponent(true);\n            return setElement.apply(this, arguments);\n        },\n        // cached instance of react component...\n        component: null,\n        prevState: null,\n        resize: function () {\n            window.Page.forceResize();\n        },\n        render: function () {\n            var options = this.prevState ? tools.fastAssign({ __keepState: this.prevState }, this.options) : this.options, element = React.createElement(this.reactClass, options), component = ReactDOM.render(element, this.el);\n            this.component || this.mountComponent(component);\n        },\n        mountComponent: function (component) {\n            this.component = component;\n            this.prevState = null;\n            component.trigger && this.listenTo(component, 'all', function () {\n                this.trigger.apply(this, arguments);\n            });\n        },\n        unmountComponent: function (keepModel) {\n            var component = this.component;\n            if (component) {\n                this.prevState = component.state;\n                if (component.trigger) {\n                    this.stopListening(component);\n                }\n                component._preventDispose = Boolean(keepModel);\n                ReactDOM.unmountComponentAtNode(this.el);\n                this.component = null;\n            }\n        },\n        dispose: function () {\n            this.unmountComponent();\n            return dispose.apply(this, arguments);\n        }\n    });\n    Object.defineProperty(ComponentView.prototype, 'model', {\n        get: function () {\n            this.component || this.render();\n            return this.component && this.component.state;\n        }\n    });\n    return ComponentView;\n}\n//# sourceMappingURL=component-view.js.map","import * as tslib_1 from \"tslib\";\nimport { Component } from './react-mvx';\nvar dontAutobind = [\n    'State', 'Store', 'constructor',\n    'componentWillMount', 'componentDidMount', 'componentWillReceiveProps', 'shouldComponentUpdate',\n    'componentWillUpdate', 'componentDidUpdate', 'componentWillUnmount',\n    'render', 'getDefaultProps', 'getChildContext'\n];\n/**\n * ES5 components definition factory\n */\nexport default function createClass(_a) {\n    var statics = _a.statics, a_spec = tslib_1.__rest(_a, [\"statics\"]);\n    // Gather all methods to pin them to `this` later.\n    var methods = [];\n    var Subclass = Component.extend(tslib_1.__assign({ \n        // Override constructor to autobind all the methods...\n        constructor: function () {\n            Component.apply(this, arguments);\n            for (var _i = 0, methods_1 = methods; _i < methods_1.length; _i++) {\n                var method = methods_1[_i];\n                this[method] = this[method].bind(this);\n            }\n        } }, a_spec), statics);\n    // Need to bind methods from mixins as well, so populate it here.\n    var Proto = Subclass.prototype;\n    for (var key in Proto) {\n        if (Proto.hasOwnProperty(key) && dontAutobind.indexOf(key) === -1 && typeof Proto[key] === 'function') {\n            methods.push(key);\n        }\n    }\n    return Subclass;\n}\n//# sourceMappingURL=createClass.js.map","// Re-export react-mvx\nimport ReactMVx from './react-mvx';\nvar NestedReact = Object.create(ReactMVx);\nexport default NestedReact;\nexport * from './react-mvx';\n// NestedReact backward compatibility layer\nimport * as ReactDOM from 'react-dom';\nimport Nested, { View, Record } from 'type-r';\nimport * as PropTypes from 'prop-types';\nimport subview from './view-element';\nNestedReact.subview = subview;\nexport { subview };\nimport use from './component-view';\nimport createClass from './createClass';\nObject.defineProperty(NestedReact, 'createClass', { value: createClass });\nObject.defineProperty(NestedReact, 'PropTypes', { value: PropTypes });\nexport { PropTypes, createClass };\nvar BaseView;\n// export hook to override base View class used...\nexport function useView(View) {\n    BaseView = use(View);\n}\nvar onDefine = NestedReact.Component.onDefine;\nNestedReact.Component.onDefine = function (definitions, BaseClass) {\n    this.View = BaseView.extend({ reactClass: this });\n    return onDefine.call(this, definitions, BaseClass);\n};\n// Deprecated API for backward compatibility\nvar RecordProto = Record.prototype;\nRecordProto.getLink = RecordProto.linkAt;\nRecordProto.deepLink = RecordProto.linkPath;\nvar CollectionProto = Record.Collection.prototype;\nCollectionProto.hasLink = CollectionProto.linkContains;\nuseView(View);\n// Extend react components to have backbone-style jquery accessors\nvar BackboneViewProps = {\n    el: { get: function () { return ReactDOM.findDOMNode(this); } },\n    $el: { get: function () { return Nested.$(this.el); } },\n    $: { value: function (sel) { return this.$el.find(sel); } }\n};\nObject.defineProperties(NestedReact.Component.prototype, BackboneViewProps);\n//# sourceMappingURL=index.js.map"],"names":["Record","tslib_1.__extends","tslib_1.__decorate","define","Store","onDefine","PropTypes.number","PropTypes.string","PropTypes.bool","PropTypes.array","PropTypes.func","PropTypes.object","PropTypes.node","PropTypes.element","PropTypes.any","PropTypes.instanceOf","tools","onDefineStore","onDefineState","onDefineContext","onDefineProps","Messenger","element","object","array","Link","Mixable","MixinsState","Component","React.Component","definitions","mixinRules","mixins","React","View","React.createElement","ReactDOM.render","ReactDOM.unmountComponentAtNode","tslib_1.__rest","tslib_1.__assign","subview","ReactDOM.findDOMNode","Nested"],"mappings":"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"}